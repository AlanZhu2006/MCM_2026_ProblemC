# 2026 MCM Problem C: Data With The Stars (DWTS)

## 项目概述12343

本项目旨在分析美国版《与星共舞》(Dancing with the Stars, DWTS) 节目的数据，解决关于评委评分与粉丝投票组合方式的问题。该节目已完成34季，每季中名人选手与专业舞者配对，每周进行舞蹈表演，由专家评委评分，粉丝通过电话或网络投票。
## 问题背景s

### 节目机制
- **评委评分**：专家评委对每对选手的舞蹈进行评分（1-10分）
- **粉丝投票**：粉丝每周可以为最喜欢的选手投票（可多次投票，但有上限）
- **淘汰机制**：结合评委评分和粉丝投票决定每周淘汰的选手（综合得分最低者）
- **决赛**：三对（部分季为更多）选手进入决赛，根据综合得分排名

### 投票组合方法的历史演变
1. **第1-2季**：使用**排名法**（Rank-based）组合评委评分和粉丝投票
2. **第3-27季**：改用**百分比法**（Percent-based）组合
3. **第28季起**：回归**排名法**，并引入新机制：评委从综合得分最低的两对选手中选择淘汰者

### 争议案例
- **第2季**：Jerry Rice 尽管评委评分最低（5周），但仍进入决赛获得亚军
- **第4季**：Billy Ray Cyrus 尽管6周评委评分垫底，仍获得第5名
- **第11季**：Bristol Palin 尽管12次评委评分最低，仍获得第3名
- **第27季**：Bobby Bones 尽管评委评分持续偏低，仍获得冠军

## 研究任务

### 核心任务

#### 1. 粉丝投票估计模型
- **目标**：开发数学模型估计每对选手每周的粉丝投票数（实际数据为保密信息）
- **验证**：模型估计的粉丝投票是否能够正确预测每周的淘汰结果
- **不确定性分析**：评估估计值的不确定性，分析不同选手/周次的不确定性是否相同

#### 2. 投票组合方法比较分析
- **比较两种方法**：
  - **排名法**：将评委评分排名与粉丝投票排名相加
  - **百分比法**：将评委评分百分比与粉丝投票百分比相加
- **分析内容**：
  - 将两种方法应用于所有季，比较结果差异
  - 分析哪种方法更偏向粉丝投票
  - 针对争议案例，分析不同方法是否会产生相同结果
  - 评估"评委从最低两名中选择淘汰者"机制的影响

#### 3. 影响因素分析
- **专业舞者影响**：分析不同专业舞者对选手表现的影响
- **名人特征影响**：分析年龄、行业、地区等特征对表现的影响
- **区分影响**：分析这些因素对评委评分和粉丝投票的影响是否相同

#### 4. 新投票系统提案
- **目标**：提出一个更"公平"或更"精彩"的投票组合系统
- **要求**：提供支持证据，说明为什么应该采用该方案

#### 5. 报告撰写
- **完整报告**：不超过25页，包含所有发现
- **执行摘要**：1-2页的备忘录，总结结果并给制作人建议

## 数据说明

### 数据文件
- **文件名**：`2026_MCM_Problem_C_Data.csv`
- **内容**：第1-34季的选手信息、比赛结果和每周评委评分

### 数据字段（Table 1）

| 变量名 | 说明 | 示例 |
|--------|------|------|
| `celebrity_name` | 名人选手姓名 | Jerry Rice, Mark Cuban, ... |
| `ballroompartner` | 专业舞者搭档姓名 | Cheryl Burke, Derek Hough, ... |
| `celebrity_industry` | 选手职业类别 | Athlete, Model, ... |
| `celebrity_homestate` | 选手家乡州（美国） | Ohio, Maine, ... |
| `celebrity_homecountry/region` | 选手家乡国家/地区 | United States, England, ... |
| `celebrity_age_during_season` | 选手在该季的年龄 | 32, 29, ... |
| `season` | 节目季数 | 1, 2, 3, ..., 34 |
| `results` | 选手在该季的结果 | 1st Place, Eliminated Week 2, ... |
| `placement` | 最终排名（1为最佳） | 1, 2, 3, ... |
| `weekX_judgeY_score` | 第X周第Y位评委的评分 | 1, 2, 3, ..., 10 |

### 重要数据说明

1. **评分范围**：评委评分范围为1（低）到10（高）
   - 某些周次可能出现小数（如8.5），因为选手表演了多支舞蹈，取平均分
   - 某些周次有奖励分（如舞蹈对决），会平均分配到评委/舞蹈评分中
   - 团队舞蹈评分会与个人评分平均

2. **评委标识**：评委按评分顺序列出，"Judge Y"在不同周次或季次可能不是同一个人

3. **数据变化**：
   - 不同季的选手数量不同
   - 不同季的周数不同
   - 第15季是唯一一季全明星季（回归选手）

4. **特殊情况**：
   - 某些周次可能没有淘汰
   - 某些周次可能淘汰多人
   - 第4位评委评分可能为N/A（通常只有3位评委）
   - 未进行的周次显示为N/A（如第1季只有6周，第7-11周为N/A）
   - 被淘汰选手后续周次评分为0

## 投票组合方法示例

### 方法1：排名法（Rank-based）
**使用季次**：第1-2季，第28-34季

**示例**：第1季第4周（4位选手）

| 选手 | 评委总分 | 评委排名 | 粉丝投票* | 粉丝排名* | 排名总和 |
|------|---------|---------|----------|----------|---------|
| Rachel Hunter | 25 | 2 | 110万 | 4 | 6 |
| Joey McIntyre | 20 | 4 | 370万 | 1 | 5 |
| John O'Hurley | 21 | 3 | 320万 | 2 | 5 |
| Kelly Monaco | 26 | 1 | 200万 | 3 | 4 |

*粉丝投票为假设值，仅用于说明方法

**计算方式**：排名总和 = 评委排名 + 粉丝排名，排名总和最低者获胜

### 方法2：百分比法（Percent-based）
**使用季次**：第3-27季

**示例**：第5季第9周（4位选手）

| 选手 | 评委总分 | 评委百分比 | 粉丝投票* | 粉丝百分比* | 百分比总和 |
|------|---------|-----------|----------|-----------|-----------|
| Jennie Garth | 29 | 24.8% | 110万 | 11% | 35.8% |
| Marie Osmond | 28 | 23.9% | 370万 | 37% | 60.9% |
| Mel B | 30 | 25.6% | 320万 | 32% | 57.8% |
| Helio Castroneves | 30 | 25.6% | 200万 | 20% | 45.6% |
| 总计 | 117 | 100% | 1000万 | 100% | - |

*粉丝投票为假设值，仅用于说明方法

**计算方式**：
- 评委百分比 = 选手评委总分 / 所有选手评委总分之和
- 粉丝百分比 = 选手粉丝投票 / 所有选手粉丝投票之和
- 百分比总和 = 评委百分比 + 粉丝百分比，百分比总和最高者获胜

## 项目结构

```
C_MCM_C/
├── README.md                          # 本文件
├── 2026_MCM_Problem_C_Data.csv        # 数据文件
├── 2026_MCM_Problem_C.pdf            # 问题描述PDF
├── loader.py                          # 数据加载模块
├── preprocess.py                      # 数据预处理模块
├── models.py                          # 模型定义模块
├── scripts/
│   └── run_problemC.py               # 主运行脚本
└── notebooks/
    └── C_problemC_template.ipynb     # Jupyter笔记本模板
```

## 使用方法

### 环境要求
```bash
pip install pandas numpy scikit-learn matplotlib seaborn jupyter
```

### 快速开始
1. **加载数据**：
```python
from loader import load_data
df = load_data()
```

2. **运行分析**：
```bash
python scripts/run_problemC.py
```

3. **使用Jupyter笔记本**：
```bash
jupyter notebook notebooks/C_problemC_template.ipynb
```

## 研究步骤建议

### 阶段1：数据探索与预处理
- [ ] 加载并检查数据完整性
- [ ] 处理缺失值（N/A）
- [ ] 处理被淘汰选手的0分
- [ ] 计算每周的评委总分和排名
- [ ] 识别每季的周数和选手数量

### 阶段2：粉丝投票估计模型
- [ ] 建立数学模型估计粉丝投票
  - 考虑因素：评委评分、历史表现、选手特征、专业舞者等
- [ ] 验证模型：检查估计值是否与已知淘汰结果一致
- [ ] 不确定性量化：使用置信区间、蒙特卡洛方法等

### 阶段3：投票方法比较
- [ ] 实现排名法计算
- [ ] 实现百分比法计算
- [ ] 对所有季应用两种方法
- [ ] 分析差异和模式
- [ ] 分析争议案例

### 阶段4：影响因素分析
- [ ] 专业舞者影响分析
- [ ] 选手特征影响分析（年龄、行业、地区等）
- [ ] 区分对评委评分和粉丝投票的不同影响

### 阶段5：新系统设计
- [ ] 设计新的投票组合方法
- [ ] 理论分析其优势
- [ ] 使用历史数据验证

### 阶段6：报告撰写
- [ ] 撰写完整技术报告（≤25页）
- [ ] 撰写执行摘要备忘录（1-2页）
- [ ] 准备可视化图表
- [ ] 整理参考文献

## 关键挑战

1. **粉丝投票未知**：需要从已知结果反推粉丝投票，存在多解问题
2. **数据复杂性**：不同季的规则、评委、周数都不同
3. **不确定性量化**：如何评估估计值的可靠性
4. **方法公平性**：如何定义和衡量"公平"
5. **历史规则变化**：需要准确识别不同季使用的规则

## 输出要求

### 报告结构
1. **一页摘要表**（Summary Sheet）
2. **目录**（Table of Contents）
3. **完整解决方案**（Complete Solution）
4. **1-2页备忘录**（Memo to Producers）
5. **参考文献列表**（References）
6. **AI使用报告**（如使用，不计入25页限制）

### 报告内容要求
- 不超过25页（不包括AI使用报告）
- 包含所有分析结果
- 提供可视化图表
- 给出明确的建议

## 参考资料

- COMAP官方网站：www.comap.org
- 数学建模网站：www.mathmodels.org
- 问题PDF：`2026_MCM_Problem_C.pdf`

## 注意事项

1. **数据保密性**：粉丝投票数据是保密的，需要通过模型估计
2. **规则变化**：第28季回归排名法的时间不确定，建议假设为第28季
3. **特殊季次**：第15季为全明星季，可能需要特殊处理
4. **评分处理**：注意处理小数评分、奖励分、团队舞蹈等情况
5. **淘汰选手**：被淘汰选手后续周次评分为0，需要正确识别

## 贡献与支持

本项目为2026年MCM Problem C的解决方案框架。如有问题或建议，请参考问题PDF文档或联系指导老师。

---

**最后更新**：2026年1月
**版本**：1.0
